<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Samantha</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg" aria-hidden="true">
      <div class="bg-gradient"></div>
      <div class="bg-grain"></div>
    </div>

    <main class="scene" aria-label="Samantha voice console">
      <canvas id="viz" class="viz" aria-hidden="true"></canvas>
      <div class="pulse-wrap">
        <button id="pulse" class="pulse state-disconnected" type="button" aria-label="Toggle microphone">
          <span class="pulse__core" aria-hidden="true"></span>
          <span class="pulse__ring ring-1" aria-hidden="true"></span>
          <span class="pulse__ring ring-2" aria-hidden="true"></span>
          <span class="pulse__ring ring-3" aria-hidden="true"></span>
        </button>
      </div>

      <div class="captions" aria-live="polite">
        <div id="captionPrimary" class="caption primary"></div>
        <div id="captionSecondary" class="caption secondary"></div>
      </div>

      <section id="onboard" class="onboard hidden" role="dialog" aria-modal="true" aria-label="Onboarding">
        <div class="onboard-card">
          <div class="onboard-head">
            <div class="onboard-title">Samantha</div>
            <button id="onboardClose" class="sheet-close" type="button">Close</button>
          </div>

          <div class="onboard-sub">A minimal voice companion. Out of the box.</div>

          <div id="onboardChecks" class="onboard-checks" aria-label="Setup checks"></div>

          <label class="check onboard-mode">
            <input id="onboardHandsFree" type="checkbox" />
            <span>Hands-free (wake word: “Samantha”)</span>
          </label>

          <div class="onboard-actions">
            <button id="onboardMicBtn" class="btn" type="button">Enable microphone</button>
            <button id="onboardHearBtn" class="btn secondary" type="button">Hear voice</button>
            <button id="onboardSettingsBtn" class="btn secondary" type="button">Settings</button>
          </div>

          <div class="onboard-hints">
            <div><span class="key">Space</span> talk</div>
            <div><span class="key">Hold</span> settings</div>
            <div><span class="key">Esc</span> interrupt</div>
          </div>
        </div>
      </section>

      <section id="sheet" class="sheet hidden" role="dialog" aria-modal="true" aria-label="Settings">
        <div class="sheet-card">
          <div class="sheet-head">
            <div class="sheet-title">Samantha</div>
            <button id="closeSheetBtn" class="sheet-close" type="button">Close</button>
          </div>

          <div class="sheet-form">
            <label class="field">
              <span class="field-label">Identity</span>
              <input id="userId" autocomplete="off" />
            </label>
            <label class="field">
              <span class="field-label">Tone</span>
              <select id="persona">
                <option value="warm">warm</option>
                <option value="professional">professional</option>
                <option value="concise">concise</option>
              </select>
            </label>
            <label class="field">
              <span class="field-label">Voice</span>
              <select id="voice">
                <option value="">loading…</option>
              </select>
            </label>
            <label class="check">
              <input id="handsFree" type="checkbox" />
              <span>Hands-free (wake word: “Samantha”)</span>
            </label>
          </div>

          <div class="sheet-actions">
            <button id="newSessionBtn" class="btn" type="button">New session</button>
            <button id="previewVoiceBtn" class="btn secondary" type="button">Preview voice</button>
            <button id="stopMicBtn" class="btn secondary" type="button">Stop mic</button>
            <button id="disconnectBtn" class="btn secondary" type="button">Disconnect</button>
            <button id="endSessionBtn" class="btn danger" type="button">End session</button>
          </div>

          <div class="sheet-hints">
            <div><span class="key">Hold</span> pulse settings</div>
            <div><span class="key">Space</span> talk</div>
            <div><span class="key">Esc</span> interrupt</div>
            <div><span class="key">S</span> settings</div>
            <div><span class="key">D</span> debug</div>
          </div>
        </div>
      </section>

      <details id="debug" class="debug hidden">
        <summary>Debug</summary>
        <div class="perf-head">
          <span>Latency Live</span>
          <span id="perfUpdated" class="perf-updated">idle</span>
        </div>
        <div id="perfLatency" class="perf-grid"></div>
        <div id="events" class="event-list"></div>
      </details>
    </main>

    <script src="./app.js" defer></script>
  </body>
</html>
